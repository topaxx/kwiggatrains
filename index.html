<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KwiggaTrains „Ç∑</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Global Header -->
        <header>
            <h1>‡≤†_‡≤∞‡≥É &nbsp;&nbsp;  KwiggaTrains &nbsp;&nbsp; „Ç∑</h1>
        </header>
        
        <!-- Hoofdscherm - Routine Lijst -->
        <div id="main-screen" class="screen active">
            <div id="routines-list" class="routines-container">
                <!-- Routines worden hier dynamisch toegevoegd -->
            </div>
        </div>

        <!-- Routine Builder Scherm -->
        <div id="routine-builder" class="screen">
            <div class="screen-header">
                <button id="back-from-builder" class="back-button"><i class="fas fa-arrow-left"></i></button>
                <h1>Add Routine</h1>
            </div>
            
            <!-- Stap 1: Routine naam -->
            <div id="name-step" class="builder-step active">
                <div class="step-content">
                    <input type="text" id="routine-name-input" placeholder="Routine name..." maxlength="30">
                    <div class="step-buttons">
                        <button id="cancel-routine" class="cancel-button">Cancel</button>
                        <button id="next-to-poses" class="next-button" disabled>Next</button>
                    </div>
                </div>
            </div>

            <!-- Stap 2: Poses selecteren -->
            <div id="poses-step" class="builder-step">
                <div class="step-content">
                    
                    <!-- Routine poses lijst -->
                    <div class="routine-poses-section">
                        <div class="routine-poses-header">
                            <h4>My Routine</h4>
                        </div>
                        <div id="routine-poses-list" class="routine-poses-list">
                            <p class="empty-message">Add poses to your routine</p>
                        </div>
                    </div>

                    <!-- Collapsible poses grid -->
                    <div class="poses-selection-section">
                        <div class="poses-selection-header" id="poses-selection-header">
                            <h4>Yoga Poses</h4>
                            <button id="toggle-poses-grid" class="toggle-button rotated">
                                <span id="toggle-icon">‚ñº</span>
                            </button>
                        </div>
                        <div id="poses-grid-container" class="poses-grid-container expanded">
                            <div id="poses-grid" class="poses-grid">
                                <!-- Yoga poses worden hier dynamisch toegevoegd -->
                            </div>
                        </div>
                    </div>

                    <!-- Collapsible exercises grid -->
                    <div class="exercises-selection-section">
                        <div class="exercises-selection-header" id="exercises-selection-header">
                            <h4>Exercises</h4>
                            <button id="toggle-exercises-grid" class="toggle-button rotated">
                                <span id="toggle-exercises-icon">‚ñº</span>
                            </button>
                        </div>
                        <div id="exercises-grid-container" class="exercises-grid-container expanded">
                            <div id="exercises-grid" class="exercises-grid">
                                <!-- Exercises worden hier dynamisch toegevoegd -->
                            </div>
                        </div>
                    </div>

                    <div class="step-buttons">
                        <button id="back-to-name" class="back-step-button">‚Üê Back</button>
                        <button id="save-routine-btn" class="save-button" disabled>Save Routine</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tijd selectie popup -->
        <div id="time-selection-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-pose-name">Select time</h3>
                    <button id="close-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="time-options">
                        <div class="time-option" data-time="30">30s</div>
                        <div class="time-option" data-time="60">1m</div>
                        <div class="time-option" data-time="120">2m</div>
                        <div class="time-option" data-time="180">3m</div>
                        <div class="time-option" data-time="300">5m</div>
                        <div class="time-option" data-time="600">10m</div>
                        <div class="time-option" data-time="900">15m</div>
                        <div class="time-option" data-time="1200">20m</div>
                        <div class="time-option" data-time="1800">30m</div>
                        <div class="time-option" data-time="2700">45m</div>
                        <div class="time-option" data-time="3600">1h</div>
                        <div class="time-option" data-time="4500">1h 15m</div>
                        <div class="time-option" data-time="5400">1h 30m</div>
                        <div class="time-option" data-time="6300">1h 45m</div>
                        <div class="time-option" data-time="7200">2h</div>
                    </div>
                    
                    <!-- Repetitions section for exercises -->
                    <div id="repetitions-section" class="repetitions-section" style="display: none;">
                        <h3>Or select repetitions</h3>
                        <div class="repetitions-options">
                            <div class="repetition-option" data-reps="5">5</div>
                            <div class="repetition-option" data-reps="10">10</div>
                            <div class="repetition-option" data-reps="15">15</div>
                            <div class="repetition-option" data-reps="20">20</div>
                            <div class="repetition-option" data-reps="25">25</div>
                            <div class="repetition-option" data-reps="30">30</div>
                            <div class="repetition-option" data-reps="40">40</div>
                            <div class="repetition-option" data-reps="50">50</div>
                            <div class="repetition-option" data-reps="100">100</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Verwijder bevestiging popup -->
        <div id="delete-confirmation-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Delete Routine</h3>
                    <button id="close-delete-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <p id="delete-confirmation-text">Are you sure you want to delete this routine?</p>
                    <div class="modal-buttons">
                        <button id="cancel-delete" class="cancel-button">Cancel</button>
                        <button id="confirm-delete" class="delete-button">Delete</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Routine voltooid popup -->
        <div id="completion-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üéâ Routine Complete!</h3>
                    <button id="close-completion-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="modal-buttons">
                        <button id="close-completion" class="next-button">Back to Overview</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Scherm -->
        <div id="history-screen" class="screen">
            <div class="screen-header">
                <button id="back-from-history" class="back-button"><i class="fas fa-arrow-left"></i></button>
                <h1>History</h1>
            </div>
            
            <div class="history-content">
                <div id="history-stats" class="history-stats">
                    <!-- Stats worden hier dynamisch toegevoegd -->
                </div>
                
                <div id="history-list" class="history-list">
                    <!-- History entries worden hier dynamisch toegevoegd -->
                </div>
                
                <div class="history-actions">
                    <button id="export-history-btn" class="export-history-button"><i class="fas fa-upload"></i> Export History</button>
                    <button id="import-history-btn" class="import-history-button"><i class="fas fa-download"></i> Import History</button>
                    <button id="clear-history-btn" class="clear-history-button"><i class="fas fa-trash"></i> Clear History</button>
                </div>
            </div>
        </div>

        <!-- Clear History Confirmation Modal -->
        <div id="clear-history-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Clear History</h3>
                    <button id="close-clear-history-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <p id="clear-history-text">Are you sure you want to clear all history? This cannot be undone.</p>
                    <div class="modal-buttons">
                        <button id="cancel-clear-history" class="cancel-button">Cancel</button>
                        <button id="confirm-clear-history" class="delete-button">Clear History</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Import History Modal -->
        <div id="import-history-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Import History</h3>
                    <button id="close-import-history-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <p>Select a JSON file to import history data.</p>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                    <div class="file-input-area" id="file-input-area">
                        <div class="file-input-content">
                            <div class="file-input-icon">üìÅ</div>
                            <div class="file-input-text">Click to select JSON file</div>
                            <div class="file-input-hint">or drag and drop</div>
                        </div>
                    </div>
                    <div class="modal-buttons">
                        <button id="cancel-import-history" class="cancel-button">Cancel</button>
                        <button id="confirm-import-history" class="next-button" disabled>Import History</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Import Success Modal -->
        <div id="import-success-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>‚úÖ Import Successful</h3>
                    <button id="close-import-success-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <p id="import-success-text">History imported successfully!</p>
                    <div class="modal-buttons">
                        <button id="close-import-success" class="next-button">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rename Routine Modal -->
        <div id="rename-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Rename Routine</h3>
                    <button id="close-rename-modal" class="close-button">√ó</button>
                </div>
                <div class="modal-body">
                    <input type="text" id="rename-input" placeholder="New routine name..." maxlength="30">
                    <div class="modal-buttons">
                        <button id="cancel-rename" class="cancel-button">Cancel</button>
                        <button id="confirm-rename" class="next-button">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Routine Uitvoering Scherm -->
        <div id="routine-execution" class="screen">
            <div class="screen-header">
                <button id="back-from-execution" class="back-button"><i class="fas fa-arrow-left"></i></button>
                <h1 id="execution-routine-name">Routine</h1>
            </div>
            
            <div class="execution-content">
                <div class="pose-display">
                    <h2 id="current-pose-name">Pose Naam</h2>
                    <img id="current-pose-image" src="" alt="Huidige pose">
                </div>
                
                <div class="timer-section">
                    <div class="timer-circle">
                        <svg viewBox="0 0 150 150">
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <circle class="progress-ring" cx="75" cy="75" r="71"></circle>
                            <circle class="progress-ring-fill" cx="75" cy="75" r="71" stroke-dasharray="446" stroke-dashoffset="446"></circle>
                        </svg>
                        <div class="timer-text">
                            <span id="timer-display">00:00</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                </div>

                <div class="execution-controls">
                    <button id="previous-pose-btn" class="control-button">‚óÄ</button>
                    <button id="pause-resume-btn" class="control-button">‚è∏</button>
                    <button id="next-pose-btn" class="control-button">‚ñ∂</button>
                </div>

                <div class="pose-counter">
                    <span id="pose-counter">1 / 5</span>
                </div>
            </div>
        </div>
        <!-- Global Footer -->
        <footer class="main-footer">
            <button id="add-routine-btn" class="add-button">
                „Ç∑ Add Train
            </button>
            <button id="show-history-btn" class="history-button">
                <i class="fas fa-chart-line"></i> History
            </button>
            <button id="settings-btn" class="settings-button">
                <i class="fas fa-cog"></i> Settings
            </button>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
